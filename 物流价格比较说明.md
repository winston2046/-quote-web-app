# 自有物流与顺丰快递价格比较说明

## 一、基础计算方法

### 1. 自有物流价格计算

- **基础运费** = 产品体积(m³) × 单价(元/m³)
- **额外费用** = 订单总体积<20m³时，加收150元
- **总运费** = 基础运费 + 额外费用
- **当前单价倍率** = 原始单价 × 1.2（已从1.25下调至1.2）

### 2. 顺丰快递价格计算

- **轻抛重量** = 长(cm) × 宽(cm) × 高(cm) ÷ 12000
- **计费重量** = max(实际重量, 轻抛重量)
- **快递费** = 首重费 + 续重费
  - 首重(前20kg): 根据省份不同，约37-75元
  - 续重: (计费重量-20kg) × 续重单价(元/kg)

## 二、示例分析：河北省订单

### 数据
- **产品**: 120×200×28cm 床垫 × 5件
- **总体积**: 3.360 m³
- **自有物流单价**: 190.8 元/m³
- **自有物流基础运费**: 641.09 元
- **额外费用**: 150 元（因<20m³）
- **总运费**: 791.09 元

### 顺丰计算
- **单件体积**: 0.672 m³
- **轻抛重量**: 56kg
- **河北省首重(20kg)**: 50元
- **续重(36kg)**: 79.2元
- **单件快递费**: 129.2元
- **5件总运费**: 646元

### 对比分析
- **自有物流单件成本**: 128.22元(基础) + 30元(分摊额外费用) = 158.22元
- **顺丰单件成本**: 129.2元
- **单件差价**: 顺丰比自有物流便宜29.02元
- **总成本差价**: 顺丰比自有物流便宜145.09元

### 单位价格对比
- **自有物流**: 190.8元/m³
- **顺丰折算**: 129.2元÷0.672m³ = 192.26元/m³

## 三、临界点计算问题

### 当前计算方法
临界点 = 额外费用(150元) ÷ (顺丰单价 - 自有物流单价)

### 问题分析
1. **价格差异小导致计算失真**:
   - 当单件差价非常小时(如本例约0.98元)，计算出的临界点会非常大(约153件)
   - 这个数字在业务上不合理，造成误导

2. **不考虑总体积限制**:
   - 当总体积>20m³时，不再有额外费用，自有物流优势明显
   - 但计算过程未完全考虑这一因素

## 四、优化建议

### 1. 改进临界点计算逻辑
- 设置最大合理临界点值(如30件)，超过则不显示具体数字
- 在单价接近时提供更清晰的文字说明，如"两种物流价格接近"

### 2. 分情况给出推荐
- **顺丰单价明显低时**: 直接推荐顺丰
- **自有物流单价略高但有额外费用时**: 计算后给出"X件以上选择自有物流更经济"
- **自有物流单价明显低时**: 直接推荐自有物流

### 3. 增加体积门槛说明
- 提示客户"订单体积达到20m³后将免除额外费用，更加优惠"
- 计算并显示"再增加X件产品可免除额外费用"

## 五、调整建议

1. **调整额外费用金额**:
   - 考虑根据订单规模比例设置额外费用，避免小订单差价过大
   - 如按体积比例: 150 × (1 - 当前体积/20) 元

2. **优化显示逻辑**:
   - 超过最大合理临界点时，调整推荐文案，避免显示过大数字
   - 针对顺丰价格已经比自有物流高的情况，直接推荐自有物流

3. **分产品类型计算**:
   - 不同产品体积不同，可能导致计算结果差异
   - 针对常见产品组合给出更精准的推荐 